<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="/pages/plantilla.xhtml">

	<ui:define name="title"> Aprobar Presupuesto de Solicitud de Convocatoria </ui:define>
	<ui:define name="contenido">
		<f:view>
			<h:form prependId="false">
				<p:panel id="pnValPreConv"
					header="Validar Presupuesto de Convocatoria"
					style="font-size: 12px; width:800px; height:500px; overflow:auto" closable="true">
						<table width="775px">
							<tr>
								<td colspan="4">
									<p:tabView id="tvConvocatorias" style="font-size: 12px; width:760px; height:420px" activeIndex="#{convocatoriaController.tabActivo}">
										<p:tab title="Listado">
											<ui:include src="/WEB-INF/componentes/listardoSolicitudConvocatoria.xhtml"/>
										</p:tab>
										<p:tab title="Detalle">
										<ui:include src="/WEB-INF/componentes/ListaPlazasPorConvocatoriaComponente.xhtml"></ui:include>
										<table width="100%">
										<tr>
										<td width="50%" align="right"><p:commandButton value="Aprobar" actionListener="#{convocatoriaController.aprobarPresupuestoConvocatoria}"
										oncomplete="ConfirmacionAprobar.show()" style="width:110px" image="ui-icon ui-icon-check"  update="tvConvocatorias"/>
										</td>
										<td width="50%" align="left"><p:commandButton value="Desaprobar" actionListener="#{convocatoriaController.desaprobarPresupuestoConvocatoria}"
										oncomplete="ConfirmacionDesaprobar.show()" style="width:110px" image="ui-icon ui-icon-closethick" update="tvConvocatorias"/>
										</td>
										</tr>
										</table>	
													       
										</p:tab>
									</p:tabView>
									
								</td>
							</tr>
						</table>
						
						<p:confirmDialog header="Confirmacion" message="La Solicitud de Convocatoria ha sido Aprobada y Enviada a la Of. Gral. de EconomÃ­a"
									widgetVar="ConfirmacionAprobar" severity="alert">
							<p:commandButton value="Aceptar" onclick="ConfirmacionAprobar.hide()"/>
						</p:confirmDialog>
        				<p:confirmDialog header="Confirmacion" message="La Solicitud de Convocatoria ha sido Desaprobada y Devuelta a la Dependencia Solicitante"
									widgetVar="ConfirmacionDesaprobar" severity="alert">
							<p:commandButton value="Aceptar" onclick="ConfirmacionDesaprobar.hide()"/>
						</p:confirmDialog>
						
				</p:panel>
			</h:form>
		</f:view>
	</ui:define>
</ui:composition>