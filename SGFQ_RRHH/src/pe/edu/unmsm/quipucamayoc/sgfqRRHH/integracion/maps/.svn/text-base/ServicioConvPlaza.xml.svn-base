<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ServicioConvPlaza">
<typeAlias alias="ServicioConvPlazaDTO" type="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.ServicioConvPlazaDTO"/> 
<resultMap class="ServicioConvPlazaDTO" id="rsServConvPlaza">
<result property="idConvocatoria" columnIndex="1"/>
<result property="idPlaza" columnIndex="2"/>
<result property="idServicio" columnIndex="3"/>
<result property="descServicio" columnIndex="4"/>
</resultMap>
<select id="selectServicioConvPlaza" resultMap="rsServConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.ConvocatoriaPlazaDTO">
SELECT N_ID_CONVOCATORIA,N_ID_PLAZA,C_ID_SERVICIO,T_DESC_SERVICIO
FROM QPDATAGESTION.TB_SERVICIOS_CONV_PLAZA
WHERE N_ID_CONVOCATORIA=#idConvocatoria# AND N_ID_PLAZA=#idPlaza#
ORDER BY QPDATAGESTION.TB_SERVICIOS_CONV_PLAZA.C_ID_SERVICIO
</select>
<insert id="insertServConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.ServicioConvPlazaDTO">
INSERT INTO QPDATAGESTION.TB_SERVICIOS_CONV_PLAZA VALUES(#idConvocatoria#,#idPlaza#,#idServicio#,#descServicio#)
</insert>
<update id="updateServConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.ServicioConvPlazaDTO">
UPDATE QPDATAGESTION.TB_SERVICIOS_CONV_PLAZA 
SET T_DESC_SERVICIO=#descServicio#
WHERE C_ID_SERVICIO=#idServicio#
</update>
<delete id="deleteServConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.ServicioConvPlazaDTO">
DELETE QPDATAGESTION.TB_SERVICIOS_CONV_PLAZA 
WHERE C_ID_SERVICIO=#idServicio#
</delete>
<select id="obtenerMaxidServConvPlaza" resultClass="java.lang.Integer">
select max(C_ID_SERVICIO) from QPDATAGESTION.TB_SERVICIOS_CONV_PLAZA
</select>
</sqlMap>