<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="RequisitoConvPlaza">
<typeAlias alias="RequisitoConvPlazaDTO" type="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.RequisitoConvPlazaDTO"/>
<resultMap class="RequisitoConvPlazaDTO" id="rsReqConvPlaza">
<result property="idConvocatoria" columnIndex="1"/>
<result property="idPlaza" columnIndex="2"/>
<result property="idRequisito" columnIndex="3"/>
<result property="descRequisito" columnIndex="4"/>
<result property="idTipoRequisito" columnIndex="5"/>
<result property="descTipoRequisito" columnIndex="6"/>
</resultMap>
<select id="selectReqConvPlaza" resultMap="rsReqConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.ConvocatoriaPlazaDTO">
SELECT N_ID_CONVOCATORIA,N_ID_PLAZA,C_ID_REQUISITO,T_DESC_REQUISITO,QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA.N_ID_TIPO_REQUISITO,
QPDATAGESTION.TB_TIPO_REQUISITO_CONV_PLAZA.T_DESC_TIPO_REQUISITO
FROM QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA 
INNER JOIN QPDATAGESTION.TB_TIPO_REQUISITO_CONV_PLAZA
ON QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA.N_ID_TIPO_REQUISITO=QPDATAGESTION.TB_TIPO_REQUISITO_CONV_PLAZA.C_ID_TIPO_REQUISITO 
WHERE N_ID_CONVOCATORIA=#idConvocatoria# AND
N_ID_PLAZA=#idPlaza#
ORDER BY QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA.N_ID_TIPO_REQUISITO
</select>
<insert id="insertReqConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.RequisitoConvPlazaDTO">
INSERT INTO QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA VALUES(#idConvocatoria#,#idPlaza#,#idRequisito#,#descRequisito#,#idTipoRequisito#)

</insert>
<update id="updateReqConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.RequisitoConvPlazaDTO">
UPDATE QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA
SET T_DESC_REQUISITO=#descRequisito#
WHERE C_ID_REQUISITO=#idRequisito#

</update>
<delete id="deleteReqConvPlaza" parameterClass="pe.edu.unmsm.quipucamayoc.sgfqRRHH.negocio.dto.RequisitoConvPlazaDTO">
DELETE QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA
WHERE C_ID_REQUISITO=#idRequisito#

</delete>
<select id="obtenerMaxidReq" resultClass="java.lang.Integer">
select max(C_ID_REQUISITO) from QPDATAGESTION.TB_REQUISITOS_CONV_PLAZA
</select>
</sqlMap>
